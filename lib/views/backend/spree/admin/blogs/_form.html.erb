<div class="row" data-hook="admin_blog_form_fields">
  <div class="col-lg-12" data-hook="admin_blog_form_full">
    <div class="form-group">
      <%= f.label :title %> <span class="required">*</span>
      <%= f.text_field :title, class: 'form-control' %>
      <%= f.error_message_on :title %>
    </div>

    <div class="form-group">
      <%= f.label :subtitle %> <span class="required">*</span>
      <%= f.text_field :subtitle, class: 'form-control' %>
      <%= f.error_message_on :subtitle %>
    </div>

    <div class="form-group">
      <%= f.label :slug, class: ('required' if !f.object.new_record?) %>
      <%= f.text_field :slug, class: 'fullwidth title', required: !f.object.new_record?, disabled: f.object.new_record? %>
      <%= f.error_message_on :slug %>
    </div>

    <div class="form-group">
      <%= f.label :content %> <span class="required">*</span>
      <%= f.text_area :content, rows: 12, class: 'form-control' %>
      <%= f.error_message_on :content %>
    </div>

    <div class="form-group">
      <%= f.label :author_image %>
      <%= f.file_field :author_image, class: 'form-control' %>
      <%= f.error_message_on :author_image %>
      <% if resource.author_image.present? %>
        <div class="mt-2">
          <table>
            <tr>
              <td>
                <%= image_tag resource.author_image.url, size: "100x100" %>
                <%= link_to_delete 'Delete', url: delete_image_admin_blog_path(resource, image_id: resource.author_image.id), method: :delete, data: { confirm: 'Are you sure?' } %>
              </td>
            </tr>
          </table>
        </div>
      <% end %>
    </div>

    <div class="form-group">
      <%= f.label :article_images %>
      <%= f.file_field :article_images, multiple: true, class: 'form-control' %>
      <%= f.error_message_on :article_images %>
      <% if resource.article_images.present? %>
        <div class="mt-2">
          <table>
            <% resource.article_images.each do |image| %>
              <tr>
                <td>
                  <%= image_tag image.url, size: "100x100" %>
                  <%= link_to_delete 'Delete', url: delete_image_admin_blog_path(resource, image_id: image.id), method: :delete, data: { confirm: 'Are you sure?' } %>
                </td>
              </tr>
            <% end %>
          </table>
        </div>
      <% end %>
    </div>
  </div>

  <div class="col-lg-6" data-hook="admin_blog_form_right">
    <div class="form-group">
      <%= f.label :status %>
      <%= f.select :status,
                   Spree::Blog.statuses.keys.map { |k| [t("spree.statuses.#{k}"), k] },
                   { include_blank: false },
                   class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :stores, plural_resource_name(Spree::Store) %>
      <% Spree::Store.all.each do |store| %>
        <div class="checkbox form-check">
          <%= f.label store.name.downcase.to_sym, { class: 'form-check-label' } do %>
            <%= check_box_tag 'blog[store_ids][]', store.id, @blog.stores.include?(store), { class: 'form-check-input' } %>
            <%= store.name %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="col-lg-6" data-hook="admin_blog_form_left">
    <div class="form-group">
      <%= f.label :author %>
      <%= f.text_field :author, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :publishing_date %>
      <%= render "spree/admin/shared/datepicker", f: f, date_attr: :publishing_date %>
      <%= f.error_message_on :publishing_date %>
    </div>
  </div>
</div>

<div class="row" data-hook="admin_blog_form_tags">
  <div class="col-lg-12">
    <div class="form-group" data-hook="admin_blog_form_taxons">
      <%= f.label :taxon_ids, plural_resource_name(Spree::Taxon) %><br>
      <%= f.hidden_field :taxon_ids, value: @blog.taxon_ids.join(','), class: 'fullwidth' %>
    </div>

    <div class="form-group" data-hook="admin_blog_form_primary_taxons">
      <%= f.label :primary_taxon_id %><br>
      <%= f.hidden_field :primary_taxon_id, value: @blog.primary_taxon_id, class: 'fullwidth' %>
    </div>
  </div>
</div>

<div class="row" data-hook="admin_blog_form_additional_fields">
  <div class="col-lg-12"></div>
</div>
